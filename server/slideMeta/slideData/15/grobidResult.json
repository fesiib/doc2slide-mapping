{"authors": "Jess Mcintosh; Paul Strohmeier; Jarrod Knibbe; Sebastian Boring; Kasper Hornbaek", "pub_date": "", "title": "Magnetips: Combining Fingertip Tracking and Haptic Feedback for Around-Device Interaction", "abstract": "Figure 1: Magnetips consists of (a) a magnetometer array to track the magnet on the fingernail, and (b) a coil to provide haptic feedback to it. These can be used simultaneously and integrated with mobile devices (c,d) to enable interactions in the space around the watch (e).", "sections": [{"heading": "INTRODUCTION", "text": "Research is exploring ways to extend interaction beyond the physical boundaries of our devices, through Around-Device Interaction (e.g., [5,11,19,22,29]). This interaction style is especially promising for mobile and wearable devices, as their small displays can limit the available space for interaction and suffer from fat-thumb occlusion [6].\nIntegrating these techniques with mobile devices presents a range of challenges. The tracking techniques, for example, variously suffer from occlusion (e.g,. [29]), provide only coarse or two-dimensional positions [14], or require specific lighting requirements [19]. The feedback techniques either require active instrumentation of the user (e.g., [28,34]), only work in limited directions (e.g., [36]), or have yet to be demonstrated in mobile form factors (e.g., [28,36]).\nWe present Magnetips, a device that uses magnetism to enable tracking and haptic feedback for around-device interaction on mobile devices. This combination enables full 3D tracking and feedback above, around, and below the device, all within a small mobile form-factor. Magnetips is the first realisation of a combined technique for around mobile device interaction that works in any spatial direction and through visual occlusions. Magnetips presents the first example of passive magnetic tracking in 3D that accounts for the effects of the earth's magnetic field; affording a truly mobile setup with greater accuracy than previously demonstrated.\nWe describe (1) the implementation of Magnetips, (2) an evaluation of the tracking accuracy, both whilst the device is stationary and in motion, and (3) a psychophysics study of the user perception of the feedback, describing the signal parameters that generate the strongest haptic sensation, and the relationship between feedback strength and position.\nThese evaluations show that the maximum perceivable range of feedback is 56.6mm (at which distance tracking error is 6.38mm when under motion), and the ideal parameters (when tracking below 83Hz) are 12ms signals consisting of 4ms pulses. This allows a tracking frequency of up to 83Hz, beyond the frequency of most displays. We show that with geomagnetism cancellation algorithm, we improve the tracking accuracy by 17.4% while the device is under motion.", "n_publication_ref": 15, "n_figure_ref": 0}, {"heading": "MAGNETIPS", "text": "Magnetips is a device that combines tracking and haptic feedback for around-device interaction. Figure 1 shows our device, consisting of: a copper coil, four small magnetometers, an IMU, a motor driver, a power source, and a magnet on the fingernail. The magnet (10x10x1mm disc magnet) is adhered to the users' fingernail. Magnetips can be integrated in a smart-phone case or snapped on to a smart-watch, to allow for retrofitting onto existing systems. We envision that the system may also be integrated within the device itself.\nAs the user moves their finger around the device, the four magnetometers collect field strength readings and estimate the position of the magnet in 3D. To create haptic feedback, we generate a magnetic field through the coil and alternate the polarity in order to induce vibration of the magnet. To reduce the size and weight requirements of the device, we use a coil without a magnetic core.\nThe high frequency of Magnetips allows feedback and tracking to be interleaved, whilst maintaining a high tracking rate (>60Hz, the tracking rate of most devices' screens). Another benefit of a magnet-based approach is that the tracking and feedback is not challenged by occlusion. Magnetips works through materials (such as sleeves, pockets, and bags), electronics (through displays and internal device circuitry), and through the body. Magnetips also works in three dimensions around the device, supporting above, beside, and behind device interaction.\nWe include an IMU to track the orientation of the device. This enables Magnetips to reduce the effect of geomagnetism and maintain accurate tracking in mobile scenarios. To our knowledge, this is the first work that uses the orientation of the device to compensate for errors when tracking a passive magnet in 3D.\nAs a result of the benefits of magnetic tracking and feedback, Magnetips affords a range of novel application scenarios. It allows tracking in all directions around the device. This enables behind device control and feedback when interacting with a smartphone, for example. This can also enable onskin interaction and feedback beside the device. As magnetic input and output techniques are not effected by occlusion from most common materials, Magnetips affords eyes-free interaction through clothes. We discuss the technical implementation and example applications in detail later.", "n_publication_ref": 0, "n_figure_ref": 1}, {"heading": "RELATED WORK", "text": "There have been a variety of approaches to using the space around mobile devices for interaction. Capacitive sensing has been used to extend the input abilities of smartwatches [22] and extend the sensing area of smartphones to include the area above a phone [15]. Infrared (IR) depth-sensors have been used to track regions off the device, within a line of sight of the sensors [7,19]. Similarly, computer vision based systems have been deployed in wearable technology [29]. Alternative approaches include using the skin as an interactive area [23] or physically extending the size of mobile devices, by, for example, extending the interaction space to a watch's wristband [24,31] or to integrate with clothing [26]. Recently, electric field sensing has enabled 3D interaction around mobile devices [20,37]. Although there is much work on increasing the input space, there is little complementary work on providing haptic feedback at the tracked point.", "n_publication_ref": 11, "n_figure_ref": 0}, {"heading": "Mid-air Haptics", "text": "The mobility and size constraints of wearables and smartphones present challenges when integrating a mid-air haptic feedback system. Vibration, the most common feedback modality in mobile devices, for example, requires surface contact. To be used for off-device feedback, a vibration motor needs to be worn by the user (e.g., [11]), which may impede natural hand interactions.\nSeveral mid-air haptic feedback approaches do not require active components to be worn on the hands. Ultrahaptics uses focused ultrasound to create haptic feedback in midair [8]. Jets of air [33] and air vortices [27] have also been explored. While these approaches work well for larger, stationary applications, they currently lack portability, which renders them unsuitable for integration with mobile devices. In addition, they require an un-occluded position on the surface of the device to function. In contrast, magnetism can work through materials such as glass, ceramics, plastics and non-ferromagnetic metals, as commonly used in devices.\nSpelmezan et al. presented a method that provides haptic feedback using electrical arcs [28]. However, this technology has only been demonstrated to work close to the surface of the device, which enables hover interaction up to 4mm.\nFinally, in FingerFlux, Weiss et al. showed that by attaching a permanent magnet to the fingertip, attracting and repelling forces can be felt via electromagnets [35]. By using an array of electromagnets, positioned beneath a surface, Weiss et al. were able to guide a users' finger during screen-based interaction. We build on this work and tailor it to a mobile solution. We replace the array of small electromagnets with a single large coil. This design allows us to reduce the size, weight and power requirements of the FingerFlux approach.\nA benefit of using a passive magnet haptic feedback is that we can simultaneously use magnetic approaches to track the users' finger around the device. This tracking benefits from the same features as the haptic system: tracking in three dimensions and through materials. In the next section, we present the existing literature on magnetic tracking.", "n_publication_ref": 6, "n_figure_ref": 0}, {"heading": "Magnetic Tracking", "text": "There is much work in the area of magnetic sensing for magnet position estimation. In Finexus [10], users wore electromagnets on their fingertips to enable accurate tracking. We instead envision a system that relies on only passive instrumentation of the user, affording a less obtrusive and untethered setup. Therefore, we will focus on passive magnet tracking.\nResearch has explored the use of both single magnetometers, for lightweight yet spatially-restricted tracking, and multiple magnetometers, for full 3D tracking.\nAs an example of single magnetometer use, Ketabdar et al. explored gesture tracking around the device while the user wears/holds a permanent magnet [18]. They used the euclidean norm of the magnetic field strength in order to determine the magnets' distance from the device. While this did not enable precise location tracking, it did support gesture recognition proximal to the device. In similar work, Ashbrook et al. [1] devised a ring with an embedded magnet, where rotations and translations of the ring could be used as an additional input modality. Radial movements around a device can also be sensed by a single magnetometer as Harrison and Hudson demonstrated in Abracadabra [14].\nIn a variation on the device-mounted magnetometer approach, Han et al. [13] instrumented the users' wrist with two magnetometers, in order to support 2D mid-air handwriting. In uTrack, Chen et al. [9] demonstrated 3D tracking of magnets with as few as two magnetometers.\nOne of the challenges with using magnetometers to track magnets is the effect of the Earth's magnetic field, which needs to be taken into account during calibration, yet changes with any change in sensor orientation [10]. This can result is significant declines in tracking accuracy as a magnet moves just a few centimeters away from the sensors [10]. There have been a number of approaches to dealing with this challenge, from restricting input to limited dimensions [13], using large magnets in close proximity to the sensors [9], to using advanced signal filtering with electromagnets [10].\nWe present another novel solution to this approach, by using an IMU (inertial measurement unit) in order to track changes in orientation, which can then be used to cancel the effects of geomagnetism. This allows us to maintain accurate tracking without any limit to interaction, without a strong magnet, and without the use of electromagnets.", "n_publication_ref": 11, "n_figure_ref": 0}, {"heading": "IMPLEMENTATION", "text": "Magnetips consists of two elements, a tracking system and a haptics system. We will describe this in the following.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "Hardware", "text": "Tracking. We use four three-axis magnetometers (LIS3DML), placed in a rectangular arrangement. Figure 2 shows the arrangement of the sensors, and the exact placements of the sensor ICs within the board (32.5 x 26.7 mm rectangle, small enough to fit within the dimensions of an Apple watch series 3, see Figure 1). Additionally, we use an IMU (LSM6DS33) to track the orientation of the sensor board / device. The sensors are able to sample at a frequency of 1kHz. This high frequency allows us to multiplex the haptics with the tracking, and is one of the main reasons for choosing this sensor.\nHaptics. We provide haptic feedback by creating electromagnetic pulse-bursts with a hand-wound coil. As we intended to use this technology with mobile devices, using the coil without a magnetic core is important to reduce the weight and size of the device. The coil is 45 mm by 55 mm and has 38 windings of 0.5 mm enamelled copper wire. The coil is driven with a Pololu VNH5019 Motor Driver Carrier. Each burst consists of a single pulse or a series of pulses with varying frequencies.\nController. Haptic feedback and sensors measurements are controlled by a Teensy 3.6. The measurements are sent to a desktop PC via serial communication, ready to be processed by a host application.", "n_publication_ref": 0, "n_figure_ref": 2}, {"heading": "Software", "text": "Tracking Algorithm. We use the same algorithm as Chen et al. in Finexus [10] to estimate the position of the magnet in 3D. This algorithm uses the magnetic field strength that each magnetometer is subject to, in order to estimate the distance between the magnet and each magnetometer by using the inverse cubic relationship of field strength to distance.\nGeomagnetism cancellation. The earth's magnetic field produces a bias in the magnetometers readings. The field consists of an inclination (the deviation between true north and magnetic north), a declination (the angle between the magnetic field lines and the earth's surface) and an intensity. These three components can be represented as transformation matrix M, which describes the rotation between a true north coordinate system and the earth's magnetic coordinate system. The field is relatively constant throughout a small geographical region, say a city, and can be calculated based on latitude and longitude 1 .\nGeomagnetism, however, is a hindrance to the tracking of magnetic objects as it skews the readings of magnetometers. During interaction, the wrist of the user will move (even if slightly), thus altering the readings of the magnetometers. Simultaneously, the magnet's effect on the sensors will also 1 Magnetic Field Calculator: https://www.ngdc.noaa.gov/geomag-web/ be present. It then becomes challenging to know how much signal change can be attributed to movement of the magnet or movement of the device.\nOur algorithm is one of the ways to overcome this challenge. To begin with, the sensor's orientation (in world coordinates) has to be known. Yet, a magnetometer by itself cannot estimate the orientation of a device with 3 DoF (degrees of freedom) accurately. In the same way, an accelerometer cannot track the orientation with 3 DoF without drifting around the axis of gravity. A gyroscope can also be fused with the existing data, in order to give a more responsive estimation. Each of these sensors has 3 axes, for a total of 9 axes. A system that performs such an orientation estimation is called an attitude and heading reference system (AHRS). We implement Madgwick's AHRS to get accurate estimations of the orientation in 3 DoF.\nHowever, in the presence of a magnet, 9-axis AHRS cannot be used due to the magnet's influence on the magnetometer. Fortunately, 6-axis AHRS can be used which uses only the accelerometer and gyro [21], which is sufficient for short interaction times. Over time, however, there will be accumulated drift due to the absence of magnetometer data. This minor accumulated drift can be corrected for after the magnet is taken away when the interaction is complete. The system also needs to know when to switch from 9-axis to 6-axis AHRS. We implement this detection with a simple threshold on the difference between the magnitude of the earths magnetic field vector and the current measurements. The AHRS is likely to have been given some biased magnetometer data shortly before reaching this threshold. To avoid this issue, we store the IMU data into a buffer, then recalculate the 6-axis AHRS from the past second of data.\nThe key to our geomagnetism cancellation algorithm is to reverse the AHRS process in order to estimate magnetometer data from the orientation data. That is, given an absolute orientation of the device, we can calculate the expected magnetometer readings (using the local earth's magnetic field components, represented as transformation M and intensity I M ) for each axis of the magnetometers. We do this as follows for each magnetometer: first, we calculate the representation of a magnetometer's axes (as vectors) in the earth's magnetic coordinate system using the earth's magnetic field transform M, the intensity I M and the sensor orientation S R . Second, we project these transformed vectors onto the earth's magnetic field vector (the x-axis of M). The calculations are:\nI S x = M \u22121 \u2022 S R \u2022 (1, 0, 0) T \u2022 (I M , 0, 0) T I S y = M \u22121 \u2022 S R \u2022 (0, 1, 0) T \u2022 (I M , 0, 0) T I S z = M \u22121 \u2022 S R \u2022 (0, 0, 1) T \u2022 (I M , 0, 0) T Resulting values fall into [\u2212I M , +I M ].\nFor example, if the x-axis of a magnetometer is properly aligned with the earth's magnetic field, it will have the full intensity, while both the yaxis and z-axis will read 0. The actual magnetometer readings are then corrected using the expected readings I S x,y, z . In an ideal case (i.e., no magnetic object being present near the sensor), the corrected readings would be 0 on all axes.", "n_publication_ref": 4, "n_figure_ref": 0}, {"heading": "TRACKING EVALUATION", "text": "Next, we evaluate the accuracy of our tracking solution. Importantly, we demonstrate the effectiveness of our novel geomagnetism cancellation, showing an improvement of 17.4% tracking accuracy when the device is under motion. We also show how the magnetic field produced by our haptics system might interfere, and show that the minimum delay needed before and after producing a haptic signal is 2ms.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "Tracking Accuracy", "text": "Static sensors. We tested the tracking accuracy by first keeping the sensor board static and moving the magnet in a 3D volume, centred around the sensors. For this condition, we calibrated the geomagnetism before measuring the data. As the sensor base is static, our geomagnetism cancellation algorithm does not provide any further benefits. In each of these tests, Magnetips was placed on a table. The magnet was attached to retro-reflective markers for optical tracking. We moved the magnet-marker in an 80 \u00d7 80 \u00d7 80 mm volume and tracked its position with both Magnetips and OptiTrack, where OptiTrack provided the ground truth for this data (Figure 3). Our results are shown in table 1. We present these results with varying volume sizes. The error is calculated by the euclidean distance between the OptiTrack position and the Magnetips position (mm) for each frame of the data. The error for each frame is then averaged. The magnetometer data sampling rate was set to 1KHz, with \u00b18 gauss sensitivity. The results show that there is an approximately linear increase in error from the 40 mm to the 80 mm cube lengths.\nMoving sensors. The previous results, however, show the upper bound of tracking accuracy where the sensing base is not moving and therefore the geomagnetism is constant. Therefore, we conducted two further tests. Firstly, we fixed the magnet at a known position away from the sensor board, using the green cage shown in figure 3 (in the middle indentation). We then recorded the data whilst moving and tilting the sensor board and magnet. In this test, the previously used algorithm performs poorly and results in an average error of 7.790 mm. After using our geomagnetism cancellation technique based on the AHRS, our findings show an average error of 5.514 mm (see table 1 for comparisons between geomagnetism cancellation on and off). This is an accuracy improvement of 2.276 mm, for a magnet position fixed at 5cm above the sensor base.\nThen finally, to simulate a more realistic scenario, we moved the base and the magnet simultaneously. Again, with our geomagnetism cancellation we observed reductions in the tracking error in each of the conditions. The mitigation technique seems to have a greater effect with a larger volume, probably due to the fact that the earths magnetic field has a stronger effect relative to the effect of the magnet when further away. In the largest volume, we see a decrease in the error of the tracking by 1.585 mm. ", "n_publication_ref": 0, "n_figure_ref": 2}, {"heading": "Length of cube (mm) GC Sensor base", "text": "", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "Multiplexing Tracking With Haptics", "text": "The haptics system we use inevitably interferes with the magnetometer readings without careful timing. We investigated whether there is a lasting effect from the coil after the controller turns off power to it, or whether the latency of the reading is an issue. Indeed, we found that if we begin to sample data just afterwards, there is some error in the readings as shown in Figure 4. The error in this graph represents the average error from the earths magnetic field on a logarithmic scale. The interference stops after a 2ms delay, but it is very large and unpredictable before this. Due to a lack of control over timing with the hardware (continuous 1KHz sampling), we also added a 2ms delay after reading and before sending a haptic signal. With bespoke hardware to improve the timing of the sampling, these delays can be reduced significantly. In total, there must be a 4ms delay added onto the sampling period. This limits the sampling frequency of the tracking if haptic pulses are to be used often during the interactions.\nWe discuss the implications of this in the next section.", "n_publication_ref": 0, "n_figure_ref": 1}, {"heading": "HAPTICS EVALUATION", "text": "We conducted a series of evaluations to demonstrate haptic feedback properties. Tracking accuracy can simply be measured, but the experience of haptic feedback is subjective and not as easy to quantify. Therefore, we spend more time on the feedback evaluation than on the tracking, though both parts are equally important for Magnetips.\nAlthough there is past work that explores vibrational feedback with similar parameters using conventional vibrotactile stimulation, there are a number of factors which could influence the transfer from signal frequency to experienced vibration. The main two factors include: the location of the magnet on the fingernail; the transfer of electrical to electromagnetic to mechanical energy.\nThe haptics evaluation consists of three parts. First, to better understand how to design haptic signals, we a) present a user study of possible parameters, given constraints in tracking frequency. Using the parameter combination that lead to the strongest feedback in study 'a', we then b) present a user study that investigates how the finger's position relative to the coil effects the strength of the feedback. Finally, to better understand variations in strength discovered in study 'b', we c) present measures of the electromagnetic field produced when providing feedback.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "a) Feedback Parameters", "text": "We conducted an experiment to better understand what parameter combination provides the strongest haptic sensation. We recruited 10 participants. We affixed a magnet to the fingernail of the index finger of the dominant hand of each participant with double sided adhesive pads. For this experiment, we fixed the position of the finger (and thus magnet) with respect to the coil as illustrated in Figure 5, inlay. Participants were asked to rate how strongly they perceived haptic signals which varied in duration and frequency.", "n_publication_ref": 0, "n_figure_ref": 1}, {"heading": "Independent Variables", "text": "Signal Duration. The maximum duration of each signal is limited by the desired tracking frequency. As the electromagnetic field required for providing haptic feedback interferes with the magnetic tracking, tracking and feedback must be alternated. We found that we need to delay readings by 3ms after generating the electromagnetic field to ensure error free sampling of the magnet position. Measuring the magnets position takes 1 ms. Tracking at frequencies common with current touch solutions (60Hz or above) provides us with a total time window of at most 16.7 ms, which supports a maximum feedback duration of 12.7 ms (per the results of the section 5).\nPulse Length. The perception of a haptic signal is strongly linked to its frequency content [4]. To explore how the frequency effects perceived strength, we vary the length of electromagnetic pulses that each signal consists of.  ", "n_publication_ref": 1, "n_figure_ref": 0}, {"heading": "Dependant Variable & Procedure", "text": "For each combination, participants rated how strongly they perceived the haptic feedback. Following methodology suggested by Gescheider [12], we asked participants to freely assign values to the feedback strength. These ratings not only provide us with a guideline on choosing a Signal Duration / Pulse Length combination, but also allow us to create visual response scales for each independent variable, as done by Strohmeier and Hornbaek [32]. Participants rated each combination three times. Combination order was randomised.", "n_publication_ref": 2, "n_figure_ref": 0}, {"heading": "Results", "text": "User ratings were normalized so that the maximum value per user was 1 and ratings were then averaged per user and condition using the geometric mean. We subtracted each users average rating from all values, so as to move all users data in the same frame of reference, where zero represents the average rating, positive values are above average and negative values below average, adapted from Strohmeier and Hornbaek [32]. The resulting scales are unit free, but the confidence intervals shown in Figure 6 a,b&c provide guidance concerning size of effects.\nOverall the combination of 12ms signal duration with 4ms pulses yielded the highest perceived strength. This result agrees with the literature, 4ms pulses produce a 250Hz signal, which is in the centre of the frequency range Pacinian cells respond to [16], stimulating the same cells responsible for texture perception [4]. The combination of 12ms signal duration and 4ms pulse duration supports tracking speeds up to 83Hz. If the tracking speed is increased to 166Hz or above (6ms duration or above) the strength of feedback that can be provided with a discrete signal becomes significantly weaker. Mean results and corresponding 95% confidence intervals for all combinations are shown in Figure 6a.\nTo better understand the effects of Duration and Pulse Length on their own, we also plot them individually. Figure 6 b shows what appears to be a relatively linear relation between the signal's length and it's perceived strength for signal durations <12ms. Figure 6 c shows that the intensity levels we found match those recorded using direct nerve readings of pacinian cells [25]. It should be noted that not all pulse lengths are combined with all signal durations, the graphs only show the combinations described previously. This is reflected in the wider confidence intervals for short durations and for the 4ms and 12ms pulses.", "n_publication_ref": 4, "n_figure_ref": 4}, {"heading": "b) Actuation Volume", "text": "The second experiment was designed to explore the uniformity of the haptic feedback based on where the tracked point is positioned relative to the coil, as well as establish an ideal range within which to provide haptic feedback. Based on the result of the previous study, we conducted our exploration of the actuation volume using a feedback duration of 12ms with a pulse duration of 4ms.\nApparatus. The apparatus for this experiment can be seen in figure 5, which uses a modified 3D printer, that moves the coil in 3 dimensions. The coil is held above the printer by acrylic to avoid magnetic field interference that may be present nearer to the bed of the printer. As with the previous experiment, the participant is asked to keep their finger in a fixed location throughout. The experiment moved the coil into 60 different positions around the device, in a 60x60x60 mm cube. The area inside the coil was not sampled.\nFigure 7 illustrates the volume that was sampled, from a Z height that starts with the coil level with the fingernail. At each location the participant was asked to rate how strongly they perceived the strength of the feedback. During the experiment, the participants were blind-folded and wore headphones to avoid any visual or audial biases. Each of the 60 locations were repeated 3 times.\nSince the field strength is symmetric about 3 axes, we decided to only sample an eighth of the field. The data is extrapolated in Figure 7 to mirror the x and y axes.", "n_publication_ref": 0, "n_figure_ref": 3}, {"heading": "Variables", "text": "The independent variable of this experiment is the position of the finger in 3D space. The origin of this position is in the  c) The magnitude of the magnetic field as measured with a magnetometer centre of the coil. We use the euclidean distance from the fingertip to the centre of the coil as a measurement to compare the strength against. Our dependant variable is the perceived strength of the feedback, as in previous experiment.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "Results", "text": "We processed the strengths ratings the same way as we did for the previous experiment. We found that, up to 4cm, the ratings were relatively similar. Beyond that, the mean results aligned with stren\u0434th = 1/distance 3 (R = .993), which is the behavior one might expect if the feedback strength were directly proportional to magnetic field strength. Figure 7, left, shows the perceived strength plotted against the euclidean distance of the location to the centre of the coil.\nTo understand the range that can reasonably be used for haptic feedback, we analyzed the differences in strength ratings along the distance axis. We assume that, moving from centre of the coil outward, users can clearly feel the haptic signal, as long as there is a significant difference to a weaker signal further out. We found that 56.6 mm was the last value to be significantly different from weaker signals further out (Bonferroni corrected, p < 0.01 for 84.9, 87.2, 93.8 & 103.9). While individual users might experience the signal beyond that, 56.6mm is the furthest out that users could clearly distinguish the feedback from even weaker signals.\nThe full confusion matrix can be found in the supplementary material.\nTo better understand how the positioning of the finger relative to the magnetic field effected the ratings, we created a heat-map figure 7, centre. The heat map demonstrates that, while the strength generally declines with distance, the pattern is more complex. For example, at z = 60mm the area directly on top of the centre of the coil provides relatively weak feedback, compared above or below the centre on the x-axis. With knowledge of such patterns, haptic widgets can be created that are even further away from the device than 56.6mm, if one places them in areas where the feedback can be clearly perceived. Alternatively, these variances in perceived strength could be corrected for, by taking the position of the finger into account when providing feedback.", "n_publication_ref": 0, "n_figure_ref": 2}, {"heading": "c) Measurements of Magnetic Field", "text": "If the perceived strength correlated directly with the magnetic field, we could leverage the existing know-how of magnetic fields for strength calibration or widget-placement strategies, as discussed above. To better understand the patterns found in the previous user study, we therefore repeated the procedure. This time, instead of asking participants to rate the strength of the vibration, we placed a magnetometer where the participants finger would be and measured the strength of the magnetic field produced by the coil.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "Results", "text": "The magnitude of the field strength correlates well with the haptic feedback (R = .805, Figure 7, right) but does not completely explain all variations. At z = 60mm, the magnitude hardly correlated with the perceived strength at all (R = -0.01). Instead the perceived strength correlated well with the strength measured with the y-axis of the magnetometer (R = .84). Looking at the measured dimensions of the magnetic field individually demonstrates that they contribute to the haptic experience differently: the y-dimension of the magnetic field measures appeared most strongly to influence perception (R = .721), followed by z (R = .62). The x dimension did not correlate well with perceived strength of the feedback (R = .08). Plots for the individual dimensions can be found in the supplementary material.", "n_publication_ref": 0, "n_figure_ref": 1}, {"heading": "Summary of Findings", "text": "Users could feel signals best at a frequency between 250 to 333Hz. Within the short durations tested, there was a linear relationship between perceived strength and signal duration. The longest possible signal duration (12ms) pairs nicely with 4ms pulses (250Hz), which was the combination users rated as strongest. Using the 12ms, 250Hz combination, we explored the volume around the coil and found that users could reliably detect the feedback to at least 56.6mm. We also found that there were non-linear effects, based on the relative position of the finger to the centre of the coil. This pattern correlated with the magnetic field strength to some extent (R = .84), but the exact relation requires further exploration.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "APPLICATIONS", "text": "Magnetips can track and provide feedback in three dimensions around the device, and works regardless of visual occlusions. This enables a range of novel interaction scenarios. To demonstrate some of these opportunities, we built example applications that uses Magnetips capabilities, as shown in figure 8 and in the video figure. All the applications that we have built use haptic feedback in mid-air, which is the main benefit that Magnetips brings to around-device interaction.", "n_publication_ref": 0, "n_figure_ref": 1}, {"heading": "3D Mid-air Interaction", "text": "In past literature, there has been work that demonstrates tracking of permanent magnets even in 3 dimensions. However, by adding haptics, this enables virtual elements in mid air to be feelable.\nTo demonstrate 3-dimensional interaction, we created a clock application (figure 8 a). This application lets the user choose the time by rotating the finger in a radial movement around the device, similar to Abracadabra [14]. In this version, we let the user choose between minutes and hours by varying the depth of the radial movement. In addition, each step through a unit of time (second or minute) triggers a haptic signal. In this example, we demonstrate above device tracking, side of device tracking, and mid-air feedback.", "n_publication_ref": 1, "n_figure_ref": 1}, {"heading": "Behind Arm", "text": "Magnetips enables interactions through occlusions made by the body itself. We prototyped an application for panning a map in 2D, by dragging the map underneath the arm (figure 8 b). Such an interaction modality may be useful when visual attention is still required for the task, as this does not occlude the display of the wearable device [3]. This interaction is also an example of skin input, which Magnetips can complement with localised haptic feedback.", "n_publication_ref": 1, "n_figure_ref": 1}, {"heading": "Back of Device", "text": "Back of device interaction is a common research topic in mobile device interaction [2], for smartphones in particular. We built a photo editing application to demonstrate that Magnetips also enables this interaction paradigm. In the application, while the user is preparing a photo for sharing on their smartphone, the user could press and hold the 'filters' button and then use their index finger behind-the-device to scroll through the available list, receiving haptic feedback at every item boundary. This allows the user to also get visual feedback of the effect of the filter, without losing any onscreen space to displaying the list. Similarly, the technique could be used to create mid-air triggers with feedback behind the device for gaming.", "n_publication_ref": 1, "n_figure_ref": 0}, {"heading": "Eyes-free Interaction & Interacting Through Materials", "text": "Magnetips can support eyes-free interaction in different ways. Current devices typically use vibration as eyes-free feedback channel. This causes the whole device to vibrate and can cause a buzzing sound when in contact with surfaces. Using Magnetips, the user can receive feedback off-device, directly onto their finger -supporting subtle interaction. A similar interaction can also work through clothes, for example, through a sleeve for a smartwatch or through trouser pockets, bags and purses for a smartphone.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "LIMITATIONS & FUTURE WORK", "text": "Magnetips enables reliable haptic sensations up to 56mm from the center of the coil. At that range, the tracking error is 6.38mm. This enables Magnetips to create a larger interaction space around mobile devices. Magnetips presents a range of new opportunities, which we explored above with our applications. There are, however, also limitations to Magnetips, which remain future work.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "Coil Design and Power Usage", "text": "We designed Magnetips to use a large coil that can easily in-case existing devices. In part, this was inspired by the Qi charging coils already found in many devices.\nWe used a single coil for providing feedback around devices. In future work, different sizes of coils, tessellations of coils, and their impact on the haptic experience could be explored. For example, a phone-sized Magnetips device could consist of one large coil, spanning the majority of its size, or multiple smaller coils. By creating different designs of coil arrays, designers could experiment with different granularities of feedback in certain locations around the device. For example, an additional small coil at the bottom of a device could be used to drive a stronger sensation above the location of the traditional 'home' button.\nWhile Magnetips has been designed to fit within mobile devices, we have yet to optimise its power requirements. The power supply in the studies was set to use a maximum of 20V x4A = 80W , for 12 ms per tick of feedback. This equates to less than 1 Joule of energy (0.9576 Joules). This is much more than current vibration motors, for example, which would require ~0.02 Joules for the equivalent feedback. (For reference, the iPhone 7 can store 39,600 joules). The power consumption may be reduced by using an array of smaller coils. As the position of the magnet is known, one can then generate a directed magnetic field towards the position of the magnet, similar to the electromagnet array in FingerFlux [35]. This would allow the same strength of haptic feedback at a fraction of the power.\nIn the studies we used a power supply rather than battery to remove any variation in energy use due to the battery discharging over the course of the study. However, a mobile version of the haptics system is feasible, with a 7.4V 600mAh 25C battery, as shown in the video figure and in Figure 9.\nMagnetips is limited to the use of a single magnet. Passive magnets cannot be individually enabled and disabled, therefore it remains a challenge to address individual magnets for either tracking or actuation. The tracking of multiple magnets may be solvable with a more complex optimiser and with more magnetometers, but we are currently unaware of an existing solution. However, for haptic feedback, a coil array may provide coarse addressability at the very least.", "n_publication_ref": 1, "n_figure_ref": 1}, {"heading": "Magnet Shape", "text": "Users are required to wear a magnet. While this can be considered a drawback, MEMS magnetometer sensors are becoming increasingly better in sensitivity. This means that with future improvements to technology, smaller magnets can be used to achieve the same level of tracking performance, making it easier and more viable to embed them into nail art [17], or even into the finger [30]. Aside from wearing the magnet, it is possible to embed magnets into interactive tools, such as a stylus, to track and provide feedback in mid-air.", "n_publication_ref": 2, "n_figure_ref": 0}, {"heading": "CONCLUSION", "text": "Magnetips improves on previous work by not only preventing occlusion of small displays, but also allowing users to interact whilst glancing away from the device, as users can receive haptic guidance. Magnetips does not require line-of sight between the device and the tracked point, allowing for interaction in locations previously not possible with haptic feedback. This enables, for example, on-skin input and output behind the arm.\nThrough a series of technological evaluations and user studies, we showed that the current implementation can track the users finger with an average error of < 6.4mm during a mobile task within a volume of 60x60x60mm. Our results show that users can reliably feel the haptic feedback up to at least 56mm. We show that we can track the users finger at 60Hz and provide concurrent haptic feedback that is clearly perceivable. We suggest that haptic signals are optimised for strength at 12ms duration and 250Hz. If higher tracking and feedback frequencies are required, we suggest using 6ms duration at 330Hz for up to 166Hz tracking.\nWe presented four basic usage scenarios -aimed to demonstrate how magnetips might benefit familiar interactions. We believe, however, that the opportunities offered by the unique combination of colocated tracking and haptic feedback, in combination with the ability to interact through occluding materials, might extend far beyond these scenarios, and look forward to seeing how magnetips might be adapted in other form factors and contexts.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "ACKNOWLEDGEMENTS", "text": "This work was supported by the European Research Council under the European Union's Horizon 2020 research and innovation program (grant agreement 648785).", "n_publication_ref": 0, "n_figure_ref": 0}], "references": [{"title": "Nenya: subtle and eyes-free mobile input with a magnetically-tracked finger ring", "journal": "ACM", "year": "2011", "authors": "Daniel Ashbrook; Patrick Baudisch; Sean White"}, {"title": "Markerless Visual Fingertip Detection for Natural Mobile Device Interaction", "journal": "ACM", "year": "2011", "authors": "Matthias Baldauf; Sebastian Zambanini; Peter Fr\u00f6hlich; Peter Reichl"}, {"title": "Back-of-device Interaction Allows Creating Very Small Touch Devices", "journal": "ACM", "year": "2009", "authors": "Patrick Baudisch; Gerry Chu"}, {"title": "The vibrations of texture", "journal": "Somatosensory and Motor Research", "year": "2003", "authors": "J Sliman; Mark Bensmaia;  Hollins"}, {"title": "Placing and Recalling Virtual Items on the Skin", "journal": "ACM Press", "year": "2017", "authors": "Joanna Bergstrom-Lehtovirta; Sebastian Boring; Kasper Hornbaek"}, {"title": "The Fat Thumb: Using the Thumb's Contact Size for Single-handed Mobile Interaction", "journal": "ACM", "year": "2012", "authors": "Sebastian Boring; David Ledo; ' Xiang; Nicolai Anthony' Chen; Anthony Marquardt; Saul Tang;  Greenberg"}, {"title": "SideSight: Multi-\u00e2\u0102\u0132touch\u00e2\u0102\u0130 Interaction Around Small Devices", "journal": "ACM Press", "year": "0201", "authors": "Alex Butler; Shahram Izadi; Steve Hodges"}, {"title": "UltraHaptics: multi-point mid-air haptic feedback for touch surfaces", "journal": "ACM", "year": "2013", "authors": "Tom Carter; Sue Ann Seah; Benjamin Long; Bruce Drinkwater; Sriram Subramanian"}, {"title": "uTrack: 3D input using two magnetic sensors", "journal": "ACM", "year": "2013", "authors": "Ke-Yu Chen; Kent Lyons; Sean White; Shwetak Patel"}, {"title": "Finexus: Tracking precise motions of multiple fingertips using magnetic sensing", "journal": "ACM", "year": "2016", "authors": "Ke-Yu Chen; N Shwetak; Sean Patel;  Keller"}, {"title": "Tactile Feedback for Above-Device Gesture Interfaces: Adding Touch to Touchless Interactions", "journal": "ACM", "year": "2014", "authors": "Euan Freeman; Stephen Brewster; Vuokko Lantz"}, {"title": "Psychophysical Schaling", "journal": "Ann. Rev. Psychol", "year": "1988", "authors": "A George;  Gescheider"}, {"title": "Wearable handwriting input device using magnetic field", "journal": "IEEE", "year": "2007", "authors": "Xinying Han; Hiroaki Seki; M Hikizu"}, {"title": "Abracadabra. Proceedings of the 22nd annual ACM symposium on User interface software and technology -UIST '09", "journal": "", "year": "2009", "authors": "Chris Harrison; Scott E Hudson"}, {"title": "Pre-Touch Sensing for Mobile Interaction", "journal": "", "year": "2016", "authors": "Ken Hinckley; Seongkook Heo; Michel Pahud; Christian Holz; Hrvoje Benko; Abigail Sellen; Richard Banks; Kenton O Hara; Gavin Smyth; Bill Buxton"}, {"title": "Coding and use of tactile signals from the fingertips in object manipulation tasks", "journal": "Nature reviews. Neuroscience", "year": "2009", "authors": "S Johansson Roland;  Flanagan"}, {"title": "MagNail: user interaction with smart device through magnet attached to fingernail", "journal": "ACM", "year": "2015", "authors": "Azusa Kadomura; Itiro Siio"}, {"title": "Towards using embedded magnetic field sensor for around mobile device 3D interaction", "journal": "ACM", "year": "2010", "authors": "Hamed Ketabdar; Mehran Roshandel; Kamer Ali Y\u00fcksel"}, {"title": "Extending interaction for smart watches", "journal": "ACM Press", "year": "2014", "authors": "Jarrod Knibbe; Diego Martinez Plasencia; Christopher Bainbridge; Chee-Kin Chan; Jiawei Wu; Thomas Cable; Hassan Munir; David Coyle"}, {"title": "A low-cost transparent electric field sensor for 3d interaction on mobile devices", "journal": "ACM", "year": "2014", "authors": "Stuart Mathieu Le Goc; Shahram Taylor; Cem Izadi;  Keskin"}, {"title": "Estimation of IMU and MARG orientation using a gradient descent algorithm", "journal": "", "year": "2011", "authors": "O H Sebastian;  Madgwick; J L Andrew; Ravi Harrison;  Vaidyanathan"}, {"title": "Interaction on the Edge: Offset Sensing for Small Devices", "journal": "ACM", "year": "2014", "authors": "Ian Oakley; Doyoung Lee"}, {"title": "SkinWatch: Skin Gesture Interaction for Smart Watch", "journal": "", "year": "2015", "authors": "Masa Ogata; Michita Imai"}, {"title": "WatchIt : Simple Gestures and Eyes-free Interaction for Wristwatches and Bracelets", "journal": "", "year": "2013", "authors": "T Simon; Eric Perrault; James Lecolinet; Yves Eagan;  Guiard"}, {"title": "", "journal": "Fundamentals of Sensory Physiology", "year": "1986", "authors": "Robert F Schmidt"}, {"title": "GestureSleeve: using touch sensitive fabrics for gestural input on the forearm for controlling smartwatches", "journal": "", "year": "2016", "authors": "Stefan Schneegass; Alexandra Voit"}, {"title": "AIREAL: interactive tactile experiences in free air", "journal": "ACM Transactions on Graphics (TOG)", "year": "2013", "authors": "Rajinder Sodhi; Ivan Poupyrev; Matthew Glisson; Ali Israr"}, {"title": "Sparkle: hover feedback with touchable electric arcs", "journal": "ACM", "year": "2017", "authors": "Daniel Spelmezan; Sriram Deepak Ranjan Sahoo;  Subramanian"}, {"title": "WatchSense: On-and Above-Skin Input Sensing through aWearable Depth Sensor Srinath", "journal": "ACM Press", "year": "2017", "authors": "Srinath Sridhar; Anders Markussen; Antti Oulasvirta; Christian Theobalt; Sebastian Boring"}, {"title": "Magnetic Implant", "journal": "", "year": "2013", "authors": "Paul Strohmeier"}, {"title": "Effects of Display Sizes on a Scrolling Task using a Cylindrical Smartwatch", "journal": "", "year": "2015", "authors": "Paul Strohmeier; Jesse Burstyn; Roel Vertegaal"}, {"title": "Generating Haptic Textures with a Vibrotactile Actuator", "journal": "ACM Press", "year": "2017", "authors": "Paul Strohmeier; Kasper Hornbaek"}, {"title": "Air jet driven force feedback in virtual reality", "journal": "IEEE computer graphics and applications", "year": "2005", "authors": "Yuriko Suzuki; Minoru Kobayashi"}, {"title": "Digital Vibrons: Understanding Users' Perceptions of Interacting with Invisible, Zero-weight Matter", "journal": "ACM", "year": "2016", "authors": "Radu-Daniel Vatavu; Annette Mossel; Christian Sch\u00f6nauer"}, {"title": "FingerFlux: near-surface haptic feedback on tabletops", "journal": "ACM", "year": "2011", "authors": "Malte Weiss; Chat Wacharamanotham; Simon Voelker"}, {"title": "Perception of Ultrasonic Haptic Feedback on the Hand: Localisation and Apparent Motion", "journal": "ACM", "year": "2014", "authors": "Graham Wilson; Thomas Carter; Sriram Subramanian; Stephen A Brewster"}, {"title": "AuraSense: enabling expressive around-smartwatch interactions with electric field sensing", "journal": "ACM", "year": "2016", "authors": "Junhan Zhou; Yang Zhang; Gierad Laput; Chris Harrison"}], "figures": [{"figure_label": "2", "figure_type": "", "figure_id": "fig_0", "figure_caption": "Figure 2 :2Figure 2: The array of sensors consisting of 4 magnetometers (red) and an accelerometer and gyroscope (blue).", "figure_data": ""}, {"figure_label": "3", "figure_type": "", "figure_id": "fig_1", "figure_caption": "Figure 3 :3Figure 3: A setup of how the magnet and sensor board was tracked using OptiTrack.", "figure_data": ""}, {"figure_label": "4", "figure_type": "", "figure_id": "fig_2", "figure_caption": "Figure 4 :4Figure 4: A plot of the average magnetometer errors vs the time since a haptic pulse had ended.", "figure_data": ""}, {"figure_label": "5", "figure_type": "", "figure_id": "fig_3", "figure_caption": "Figure 5 :5Figure 5:  In both experiments, the participants finger was fixed in a single position. Top left shows the setup for the first experiment. Towards the bottom, the apparatus can be seen for moving the coil for the second experiment.", "figure_data": ""}, {"figure_label": "6", "figure_type": "", "figure_id": "fig_4", "figure_caption": "Figure 6 :6Figure 6: Perceived strength of feedback for: a) All combinations of Duration and Pulse Length, b) Duration, c) Pulse Length.", "figure_data": ""}, {"figure_label": "7", "figure_type": "", "figure_id": "fig_5", "figure_caption": "Figure 7 :7Figure 7: a) Perceived Strength of Feedback sorted by distance to centre. b) Strength of Haptic Feedback as rated by participants. c) The magnitude of the magnetic field as measured with a magnetometer", "figure_data": ""}, {"figure_label": "8", "figure_type": "", "figure_id": "fig_6", "figure_caption": "Figure 8 :8Figure 8: Magnetips enables these interactions: a) 3D mid-air, b) Behind arm, c) Back of device, d) Through material.", "figure_data": ""}, {"figure_label": "9", "figure_type": "", "figure_id": "fig_7", "figure_caption": "Figure 9 :9Figure 9: The haptics system can be operated with very few components, requiring only a coil, motor driver, battery and a microcontroller.", "figure_data": ""}, {"figure_label": "1", "figure_type": "table", "figure_id": "tab_0", "figure_caption": "The average errors accumulated over the duration of data sampling in mm. Geomagnetism cancellation abbreviated to GC.", "figure_data": "Magnet406080N/AStaticMoving 3.001 5.055 6.686OffMovingStatic*7.790OnMovingStatic*5.514OffMovingMoving 4.408 7.502 9.095OnMovingMoving 4.354 6.379 7.510"}, {"figure_label": "", "figure_type": "table", "figure_id": "tab_1", "figure_caption": "Signal Duration and Pulse Length interact: the Pulse Length cannot be longer than the Signal Duration, short Pulse Length enable signals consisting of multiple pulses, which might create stronger haptic signals. The Pulse Length is the reciprocal of its frequency.", "figure_data": "Perceived as Stronger Perceived as Weaker12 ms 6 ms 4 ms 2 ms Error Bars indicate 95% Confidence Interval a) Perceived Strength of all Duration / Pulse Length Combinations Perceived Average Strength2 ms b) Effect of Duration on Perceived Strength 4 ms 6 ms Mean 99.7 % Confidence Interval 12 ms 95 % Confidence Interval 68 % Confidence Interval2 ms (500 Hz) c) Effect of Pulse Length on Perceived Strength (log Scale) 3 ms (~ 333 Hz) 4 ms (250 Hz) 6 ms (~ 166 Hz) (~ 83 Hz) 12 ms Mean 99.7 % Confidence Interval 95 % Confidence Interval 68 % Confidence IntervalCombinations. To better understand the parameter space,we testes 11 combinations of Signal Duration and PulseLength (12 ms duration: 2, 3, 4, 6 & 12 ms pulse length, 6msduration: 2, 3 & 6 ms pulse length, 4 ms duration: 2 & 4mspulse length, 2 ms duration: 2 ms pulse length)"}], "doi": "10.1145/3290605.3300638"}